root@ubuntu-s-1vcpu-1gb-nyc3-01:/var/www/clarifyops/backend# cat > /var/www/clarifyops/backend/.env << 'EOF'
NODE_ENV=production
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_USER=clarifyops
DB_PASSWORD=ClarifyOps2026
DB_NAME=clarifyops_db
DATABASE_URL=postgresql://clarifyops:ClarifyOps2026@localhost:5432/clarifyops_db
JWT_SECRET=ClarifyOps2026SuperSecretKeyForProductionJWTTokens
JWT_REFRESH_SECRET=ClarifyOps2026RefreshTokenSecretKeyForProduction
SESSION_SECRET=ClarifyOps2026SessionSecretKeyForProductionUse
CORS_ORIGIN=https://clarifyops.com
OPENROUTER_API_KEY=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
EOF
root@ubuntu-s-1vcpu-1gb-nyc3-01:/var/www/clarifyops/backend# cd /var/www/clarifyops
root@ubuntu-s-1vcpu-1gb-nyc3-01:/var/www/clarifyops# git pull origin main
remote: Enumerating objects: 50, done.
remote: Counting objects: 100% (50/50), done.
remote: Compressing objects: 100% (13/13), done.
remote: Total 45 (delta 34), reused 43 (delta 32), pack-reused 0 (from 0)
Unpacking objects: 100% (45/45), 146.94 KiB | 3.97 MiB/s, done.
From https://github.com/bini1995/invoice-uploader-ai
 * branch            main       -> FETCH_HEAD
   291fdc8..fd1d4e2  main       -> origin/main
Updating 291fdc8..fd1d4e2
Fast-forward
 DEPLOYMENT.md                                                                                    | 240 +++++++++++++++++++++++++++++++++++++++
 attached_assets/Pasted-Welcome-to-Ubuntu-24-04-3-LTS-GNU-Linux-6-8-0-71-generi_1769724070007.txt | 654 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-apt-install-y-postgresq_1769724517628.txt |  50 +++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-curl-fsSL-https-deb-nod_1769724216791.txt |  52 +++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-mkdir-p-var-www-clarify_1769725137751.txt |  49 ++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769725436975.txt |  99 ++++++++++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769726291964.txt |  62 ++++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769726455847.txt | 204 +++++++++++++++++++++++++++++++++
 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769726673942.txt | 151 +++++++++++++++++++++++++
 attached_assets/Screenshot_2026-01-29_at_3.24.57_PM_1769723284703.png                            | Bin 0 -> 663047 bytes
 attached_assets/Screenshot_2026-01-29_at_4.55.09_PM_1769723742089.png                            | Bin 0 -> 161252 bytes
 backend/config/db.js                                                                             |  27 +++--
 12 files changed, 1574 insertions(+), 14 deletions(-)
 create mode 100644 DEPLOYMENT.md
 create mode 100644 attached_assets/Pasted-Welcome-to-Ubuntu-24-04-3-LTS-GNU-Linux-6-8-0-71-generi_1769724070007.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-apt-install-y-postgresq_1769724517628.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-curl-fsSL-https-deb-nod_1769724216791.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-mkdir-p-var-www-clarify_1769725137751.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769725436975.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769726291964.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769726455847.txt
 create mode 100644 attached_assets/Pasted-root-ubuntu-s-1vcpu-1gb-nyc3-01-var-www-clarifyops-back_1769726673942.txt
 create mode 100644 attached_assets/Screenshot_2026-01-29_at_3.24.57_PM_1769723284703.png
 create mode 100644 attached_assets/Screenshot_2026-01-29_at_4.55.09_PM_1769723742089.png
root@ubuntu-s-1vcpu-1gb-nyc3-01:/var/www/clarifyops# pm2 restart clarifyops-backend --update-env
[PM2] Applying action restartProcessId on app [clarifyops-backend](ids: [ 0 ])
[PM2] [clarifyops-backend](0) âœ“
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                  â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ clarifyops-backend    â”‚ default     â”‚ 1.0.0   â”‚ fork    â”‚ 37400    â”‚ 0s     â”‚ 95   â”‚ online    â”‚ 0%       â”‚ 22.0mb   â”‚ root     â”‚ disabled â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
root@ubuntu-s-1vcpu-1gb-nyc3-01:/var/www/clarifyops# pm2 logs clarifyops-backend --lines 30
[TAILING] Tailing last 30 lines for [clarifyops-backend] process (change the value with --lines option)
/root/.pm2/logs/clarifyops-backend-error.log last 30 lines:
0|clarifyo | (node:37216) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37227) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37238) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37249) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37261) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37272) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37283) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37295) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37306) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37317) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37328) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37340) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37351) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37363) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)
0|clarifyo | (node:37400) V8: file:///var/www/clarifyops/backend/swagger.js:3 'assert' is deprecated in import statements and support will be removed in a future version; use 'with' instead
0|clarifyo | (Use `node --trace-warnings ...` to show where the warning was created)

/root/.pm2/logs/clarifyops-backend-out.log last 30 lines:
0|clarifyo | info: ğŸŸ¡ Starting server... {"timestamp":"2026-01-29T22:46:20.134Z"}
0|clarifyo | info: ğŸŸ¢ Connected to PostgreSQL {"timestamp":"2026-01-29T22:46:20.301Z"}
0|clarifyo | info: âœ… Database initialized {"timestamp":"2026-01-29T22:46:21.374Z"}
0|clarifyo | info: ğŸŸ¢ Application initialized successfully {"timestamp":"2026-01-29T22:46:21.393Z"}
0|clarifyo | info: ğŸš€ Server running on http://0.0.0.0:3000 {"timestamp":"2026-01-29T22:46:21.402Z"}
0|clarifyo | info: ğŸŸ¢ Connected to PostgreSQL {"timestamp":"2026-01-29T22:46:21.426Z"}
0|clarifyo | info: ğŸ” Using DATABASE_URL: {"0":"p","1":"o","10":":","11":"/","12":"/","13":"c","14":"l","15":"a","16":"r","17":"i","18":"f","19":"y","2":"s","20":"o","21":"p","22":"s","23":":","24":"C","25":"l","26":"a","27":"r","28":"i","29":"f","3":"t","30":"y","31":"O","32":"p","33":"s","34":"2","35":"0","36":"2","37":"6","38":"@","39":"l","4":"g","40":"o","41":"c","42":"a","43":"l","44":"h","45":"o","46":"s","47":"t","48":":","49":"5","5":"r","50":"4","51":"3","52":"2","53":"/","54":"c","55":"l","56":"a","57":"r","58":"i","59":"f","6":"e","60":"y","61":"o","62":"p","63":"s","64":"_","65":"d","66":"b","7":"s","8":"q","9":"l","timestamp":"2026-01-29T22:46:49.586Z"}
0|clarifyo | ğŸ” Final dbConfig: {
0|clarifyo |   host: 'localhost',
0|clarifyo |   port: 5432,
0|clarifyo |   user: 'clarifyops',
0|clarifyo |   password: 'ClarifyOps2026',
0|clarifyo |   database: 'clarifyops_db',
0|clarifyo |   max: 20,
0|clarifyo |   min: 2,
0|clarifyo |   idleTimeoutMillis: 30000,
0|clarifyo |   connectionTimeoutMillis: 2000,
0|clarifyo |   ssl: false,
0|clarifyo |   connectionString: 'postgresql://clarifyops:ClarifyOps2026@localhost:5432/clarifyops_db?sslmode=disable'
0|clarifyo | }
0|clarifyo | info: Postgres config: {"connectionString":"postgresql://clarifyops:ClarifyOps2026@localhost:5432/clarifyops_db?sslmode=disable","connectionTimeoutMillis":2000,"database":"clarifyops_db","host":"localhost","idleTimeoutMillis":30000,"max":20,"min":2,"password":"ClarifyOps2026","port":5432,"ssl":false,"timestamp":"2026-01-29T22:46:49.594Z","user":"clarifyops"}
0|clarifyo | ğŸ”§ AI Controller loaded
0|clarifyo | warn: Redis not configured; async queues disabled {"timestamp":"2026-01-29T22:46:51.500Z"}
0|clarifyo | warn: Redis not configured; async queues disabled {"timestamp":"2026-01-29T22:46:51.523Z"}
0|clarifyo | info: ğŸŸ¡ Starting server... {"timestamp":"2026-01-29T22:46:52.469Z"}
0|clarifyo | info: ğŸŸ¢ Connected to PostgreSQL {"timestamp":"2026-01-29T22:46:52.611Z"}
0|clarifyo | info: âœ… Database initialized {"timestamp":"2026-01-29T22:46:53.068Z"}
0|clarifyo | info: ğŸŸ¢ Application initialized successfully {"timestamp":"2026-01-29T22:46:53.084Z"}
0|clarifyo | info: ğŸš€ Server running on http://0.0.0.0:3000 {"timestamp":"2026-01-29T22:46:53.090Z"}
0|clarifyo | info: ğŸŸ¢ Connected to PostgreSQL {"timestamp":"2026-01-29T22:46:53.107Z"}

